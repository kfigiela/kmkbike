!function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.require){var r={},n={},e=function(t,r){return{}.hasOwnProperty.call(t,r)},i=function(t,r){var n,e,i=[];n=/^\.\.?(\/|$)/.test(r)?[t,r].join("/").split("/"):r.split("/");for(var o=0,a=n.length;a>o;o++)e=n[o],".."===e?i.pop():"."!==e&&""!==e&&i.push(e);return i.join("/")},o=function(t){return t.split("/").slice(0,-1).join("/")},a=function(r){return function(n){var e=o(r),a=i(e,n);return t.require(a,r)}},s=function(t,r){var e={id:t,exports:{}};return n[t]=e,r(e.exports,a(t),e),e.exports},u=function(t,o){var a=i(t,".");if(null==o&&(o="/"),e(n,a))return n[a].exports;if(e(r,a))return s(a,r[a]);var u=i(a,"./index");if(e(n,u))return n[u].exports;if(e(r,u))return s(u,r[u]);throw new Error('Cannot find module "'+t+'" from "'+o+'"')},c=function(t,n){if("object"==typeof t)for(var i in t)e(t,i)&&(r[i]=t[i]);else r[t]=n},f=function(){var t=[];for(var n in r)e(r,n)&&t.push(n);return t};t.require=u,t.require.define=c,t.require.register=c,t.require.list=f,t.require.brunch=!0}}(),require.register("scripts/lib",function(t,r,n){n.exports.getDistanceFromLatLonInKm=function(t,r,n,e){var i,o,a,s,u,c,f;return f=function(t){return t*(Math.PI/180)},i=6371,u=f(n-t),c=f(e-r),o=Math.sin(u/2)*Math.sin(u/2)+Math.cos(f(t))*Math.cos(f(n))*Math.sin(c/2)*Math.sin(c/2),a=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),s=i*a},n.exports.is_android=navigator.userAgent.match(/android/g)}),require.register("scripts/main",function(t,r,n){var e,i,o,a,s,u,c,f,l;a=r("scripts/lib"),u=void 0,e=void 0,l=function(){return u&&e?_.each(u,function(t){var r;return r=a.getDistanceFromLatLonInKm(e.coords.latitude,e.coords.longitude,parseFloat(t.getAttribute("lat")),parseFloat(t.getAttribute("lng"))),$(t).attr("distance",r)}):void 0},c=function(){return e?_.sortBy(u,function(t){return parseFloat($(t).attr("distance"))}):_.sortBy(u,function(t){return $(t).attr("name")})},s=function(t){return e=t,i()},i=function(){var t;if(u)return l(),t=r("templates/row"),$("#rowery > tbody").html(""),_.each(c(),function(r){var n,e,i;return i=$(r),n=parseInt(i.attr("bikes")),e={name:i.attr("name"),bikes:i.attr("bikes"),status:n>=5?"label-success":0===n?"label-danger":"label-warning",distance:i.attr("distance")?parseFloat(i.attr("distance")).toFixed(1):void 0,url:a.is_android?"geo:":"https://maps.google.com/maps?q=",query:""+i.attr("lat")+","+i.attr("lng")},$("#rowery > tbody").append(t(e))})},f=function(){return navigator.geolocation?navigator.geolocation.getCurrentPosition(s):void 0},o=function(t){return a.is_android?($(".promo-web").hide(),$(".promo-android").show()):($(".promo-web").show(),$(".promo-android").hide()),f(),$.get("https://nextbike.net/maps/nextbike-official.xml?&city="+t).done(function(t){return $("#info").html(""),u=$(t).find("place"),i()}).fail(function(t){return $("#info").html('<div class="alert alert-danger">Coś poszło nie tak :(</div>'),console.log(t)})},n.exports=o});